# ğŸš² Spin Reward Server

This is the backend server for the **Spin Reward** bike rental system. It is built with **Express.js**, communicates with a **Firebase Firestore** database, and is designed to serve requests from an **Expo React Native** client.

## ğŸ‘¨â€ğŸ’» Tech Stack

- **Node.js** + **Express.js** â€“ HTTP server
- **Firebase Admin SDK** â€“ Firestore database access
- **Expo React Native** â€“ Frontend (client)
- **CORS** â€“ Cross-origin support for the client

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ controllers/          # Route logic (per module)
â”‚   â”œâ”€â”€ rentController.js
â”‚   â”œâ”€â”€ reserveController.js
â”‚   â”œâ”€â”€ rewardsController.js
â”‚   â”œâ”€â”€ payController.js
â”‚   â””â”€â”€ returnController.js
â”œâ”€â”€ routes/               # Route entrypoints
â”‚   â”œâ”€â”€ rent.js
â”‚   â”œâ”€â”€ reserve.js
â”‚   â”œâ”€â”€ rewards.js
â”‚   â”œâ”€â”€ pay.js
â”‚   â””â”€â”€ return.js
â”œâ”€â”€ config/
â”‚   â””â”€â”€ firebaseAdmin.js  # Firebase admin SDK
â””â”€â”€ server.js             # Express entrypoint
serviceAccountKey.json
```

## ğŸš€ Getting Started

### 1. Install dependencies

```bash
npm install
```

### 2. Add Firebase Admin SDK credentials

- Place your `serviceAccountKey.json` inside the root of the project or adjust the path in `firebaseAdmin.js`.

### 3. Start the server

```bash
npm start
```

Server will run at:

```
http://localhost:3000
```

## ğŸ›°ï¸ API Endpoints

| Method | Endpoint           | Description                |
| ------ | ------------------ | -------------------------- |
| GET    | `/`                | Welcome message            |
| POST   | `/api/rent/...`    | Bike rental endpoints      |
| POST   | `/api/reserve/...` | Bike reservation endpoints |
| POST   | `/api/rewards/...` | Reward system endpoints    |
| POST   | `/api/pay/...`     | Payment processing         |
| POST   | `/api/return/...`  | Bike return logic          |

## âš ï¸ Error Handling

- **404 Not Found**: Unrecognized routes return a 404 JSON error.
- **500 Server Error**: Centralized error handler logs and returns a generic error response.

---

## ğŸ§­ Environment Variables (Optional)

You can create a `.env` file to configure a custom port:

```
PORT=8080
```

## ğŸ“„ License

MIT License
